export const charPalExpScript = 'const charUrl=window.location.href,platform=window.location.hostname,script=document.createElement("script");script.src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js",document.head.appendChild(script),script.onload=()=>{const e=async()=>{try{const e=new URL(`https://plus.${platform.split(".").slice(-2).join(".")}/chat/character/info/`),t=charUrl.split("/").slice(-1)[0],a=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({external_id:t})}),n=await a.json(),r=new URL(`https://${platform.split(".").slice(-2)[0]}ai.io/i/250/static/avatars/${n.character.avatar_file_name}`),i=await(async e=>{const t=await fetch(e),a=await t.blob(),n=new FileReader;return new Promise(((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(a)}))})(r.toString());return(e=>{const t={image:e.image,name:e.name,personality:e.personality,initialMessage:e.initialMessage,scenario:"",alternateInitialMessages:[]},a=`// Made FOR the Experience. From the unformed, to the spark.\n// Handle with care. It remembers.\n\n// ${(new Date).toLocaleString()} at https://palm.goteamst.com\n\n`,n=JSON.stringify(t,null,2),r=pako.gzip(n,{level:2}),i=new Uint8Array([...(new TextEncoder).encode(a),...r]),o=new Blob([i],{type:"application/octet-stream"}),c=URL.createObjectURL(o),s=document.createElement("a");s.href=c,s.download=`${t.name||"character"}.plmc`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(c)})({image:i,name:n.character.participant__name,personality:n.character.definition||n.character.description,initialMessage:n.character.greeting}),!0}catch(e){return console.error("Export method 1 failed.",e),!1}};(async()=>{await e()||await(async()=>{try{return!1}catch(e){return console.error("Export method 2 failed.",e),!1}})(),navigator.vibrate(100)})()};'